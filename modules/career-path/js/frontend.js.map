{"version":3,"sources":["webpack:///../assets/src/js/dom-manipulate.js","webpack:///./src/js/frontend.js"],"names":["DomManipulate","selector","document","addEventListener","this","element","querySelector","callback","prototype","onReady","getElement","write","text","innerText","getChildren","selectors","querySelectorAll","isOutOfViewport","elem","bounding","getBoundingClientRect","out","top","left","bottom","window","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","any","x","markOutOfViewport","elementList","forEach","item","isOut","tabIndex","ImgSwap","viewer","activeFilter","mainImage","mainImageSource","initListen","event","target","matches","filterImg","e","classList","remove","type","add","updateViewer","src","getAttribute","srcset","alt","colour","root","style","setProperty","filterwrap","getElementById"],"mappings":"mBAAA,IAAIA,EAAgB,SAAUC,GAC5BC,SAASC,iBAAiB,oBAAoB,KAC5CC,KAAKC,QAAUH,SAASI,cAAcL,GAET,mBAAlBG,KAAKG,UAAyBH,KAAKG,e,sKAIlDP,EAAcQ,UAAUC,QAAU,SAAUF,GAC1CH,KAAKG,SAAWA,GAGlBP,EAAcQ,UAAUE,WAAa,WACnC,OAAON,KAAKC,SAGdL,EAAcQ,UAAUG,MAAQ,SAAUC,GACxC,OAAQR,KAAKC,QAAQQ,UAAYD,GAGnCZ,EAAcQ,UAAUM,YAAc,SAAUC,GAE9C,OADkBX,KAAKC,QAAQW,iBAAiBD,IASlDf,EAAciB,gBAAkB,SAAUC,GAExC,IAAIC,EAAWD,EAAKE,wBAGhBC,EAAM,GAYV,OAXAA,EAAIC,IAAMH,EAASG,IAAM,EACzBD,EAAIE,KAAOJ,EAASI,KAAO,EAC3BF,EAAIG,OACFL,EAASK,QACRC,OAAOC,aAAexB,SAASyB,gBAAgBC,cAClDP,EAAIQ,MACFV,EAASU,OACRJ,OAAOK,YAAc5B,SAASyB,gBAAgBI,aACjDV,EAAIW,IAAMX,EAAIC,KAAOD,EAAIE,MAAQF,EAAIG,QAAUH,EAAIQ,MACnDR,EAAIY,EAAIZ,EAAIE,MAAQF,EAAIQ,MAEjBR,GAGTrB,EAAcQ,UAAU0B,kBAAoB,SAAUnB,GACpD,IAAIoB,EAAc/B,KAAKC,QAAQW,iBAAiBD,GAUhD,OATAoB,EAAYC,SAAQ,SAAUC,GAC5B,IAAIC,EAAQtC,EAAciB,gBAAgBoB,GAC1CA,EAAKE,SAAW,IAEZD,EAAML,IAERI,EAAKE,SAAW,SAGbJ,G,IC1DHK,E,WACJ,WAAaC,I,4FAAS,SACpBrC,KAAKsC,aAAeD,EAAOnC,cAAe,aAC1CF,KAAKuC,UAAYF,EAAOnC,cAAe,eACvCF,KAAKwC,gBAAkBH,EAAOnC,cAAe,kBAC7CF,KAAKyC,a,+CAGP,WAAa,WACX3C,SAASC,iBAAkB,aAAa,SAAW2C,GAC5CA,EAAMC,OAAOC,QAAS,yBACzBC,EAAWH,MAEZ,GAEH5C,SAASC,iBAAkB,cAAc,SAAW2C,GAC7CA,EAAMC,OAAOC,QAAS,yBACzBC,EAAWH,MAEZ,GAEH,IAAIG,EAAY,SAAEC,GACX,EAAKR,cAAgBQ,EAAEH,SAC1B,EAAKL,aAAaS,UAAUC,OAAQ,YACpCF,EAAEG,KAAmBH,EAAEH,OAAOI,UAAUG,IAAK,YAC7C,EAAKZ,aAAeQ,EAAEH,OACtB,EAAKQ,aAAcL,O,0BAKzB,SAAcA,GACZ9C,KAAKuC,UAAUa,IAAMN,EAAEH,OAAOU,aAAc,YAE5CrD,KAAKwC,gBAAgBc,OAASR,EAAEH,OAAOU,aAAc,YACrDrD,KAAKuC,UAAUgB,IAAMT,EAAEH,OAAOlC,UAAY,YAC1C,IAAI+C,EAASV,EAAEH,OAAOU,aAAc,cAChCI,EAAO3D,SAASyB,gBACfiC,IACHC,EAAKC,MAAMC,YAAa,wBAAxB,eAAyDH,EAAzD,UACAC,EAAKC,MAAMC,YAAa,0BAAxB,eAA2DH,EAA3D,e,sBAKI,IAAI5D,EAAe,gBACzBS,SAAS,WACX,IAAMuD,EAAa9D,SAAS+D,eAAgB,eAC7B,IAAIzB,EAASwB,O","file":"frontend.js","sourcesContent":["var DomManipulate = function (selector) {\r\n  document.addEventListener(\"DOMContentLoaded\", () => {\r\n    this.element = document.querySelector(selector);\r\n\r\n    if (typeof this.callback === \"function\") this.callback();\r\n  });\r\n};\r\n\r\nDomManipulate.prototype.onReady = function (callback) {\r\n  this.callback = callback;\r\n};\r\n\r\nDomManipulate.prototype.getElement = function () {\r\n  return this.element;\r\n};\r\n\r\nDomManipulate.prototype.write = function (text) {\r\n  return (this.element.innerText = text);\r\n};\r\n\r\nDomManipulate.prototype.getChildren = function (selectors) {\r\n  let elementList = this.element.querySelectorAll(selectors);\r\n  return elementList;\r\n};\r\n\r\n/**\r\n * Check if an element is out of the viewport\r\n * @param  {Node}  elem The element to check\r\n * @return {Object}     A set of booleans for each side of the element\r\n */\r\nDomManipulate.isOutOfViewport = function (elem) {\r\n  // Get element's bounding\r\n  var bounding = elem.getBoundingClientRect();\r\n\r\n  // Check if it's out of the viewport on each side\r\n  var out = {};\r\n  out.top = bounding.top < 0;\r\n  out.left = bounding.left < 0;\r\n  out.bottom =\r\n    bounding.bottom >\r\n    (window.innerHeight || document.documentElement.clientHeight);\r\n  out.right =\r\n    bounding.right >\r\n    (window.innerWidth || document.documentElement.clientWidth);\r\n  out.any = out.top || out.left || out.bottom || out.right;\r\n  out.x = out.left || out.right;\r\n  //   out.all = out.top && out.left && out.bottom && out.right;\r\n  return out;\r\n};\r\n\r\nDomManipulate.prototype.markOutOfViewport = function (selectors) {\r\n  let elementList = this.element.querySelectorAll(selectors);\r\n  elementList.forEach(function (item) {\r\n    var isOut = DomManipulate.isOutOfViewport(item);\r\n    item.tabIndex = \"0\";\r\n    // item.style.outline = \"#f00 solid 10px\"; //debug\r\n    if (isOut.x) {\r\n      // item.style.outline = \"#4CAF50 solid 10px\"; //debug\r\n      item.tabIndex = \"-1\";\r\n    }\r\n  });\r\n  return elementList;\r\n};\r\n\r\nexport { DomManipulate as default };\r\n","\"use strict\";\r\nimport DomManipulate from '../../../../assets/src/js/dom-manipulate.js';\r\n\r\nclass ImgSwap {\r\n  constructor( viewer ) {\r\n    this.activeFilter = viewer.querySelector( '.curImage' );\r\n    this.mainImage = viewer.querySelector( '.bigpic img' );\r\n    this.mainImageSource = viewer.querySelector( '.bigpic source' );\r\n    this.initListen();\r\n  }\r\n\r\n  initListen() {\r\n    document.addEventListener( 'mouseover', function ( event ) {\r\n      if ( event.target.matches( '.filters-bar .filter' ) ) {\r\n        filterImg( event );\r\n      }\r\n    }, false );\r\n\r\n    document.addEventListener( 'touchenter', function ( event ) {\r\n      if ( event.target.matches( '.filters-bar .filter' ) ) {\r\n        filterImg( event );\r\n      }\r\n    }, false );\r\n\r\n    var filterImg = ( e ) => {\r\n      if ( this.activeFilter != e.target ) {\r\n        this.activeFilter.classList.remove( 'curImage' );\r\n        e.type === \"click\" ? e.target.classList.add( 'curImage' ) : e.target.classList.add( 'curImage' );\r\n        this.activeFilter = e.target;\r\n        this.updateViewer( e );\r\n      }\r\n    }\r\n  }\r\n\r\n  updateViewer( e ) {\r\n    this.mainImage.src = e.target.getAttribute( 'data-img' );\r\n    // @todo maintain srcset twig when replacing\r\n    this.mainImageSource.srcset = e.target.getAttribute( 'data-img' );\r\n    this.mainImage.alt = e.target.innerText + \" chart(s)\";\r\n    var colour = e.target.getAttribute( 'data-color' );\r\n    let root = document.documentElement;\r\n    if ( colour ) {\r\n      root.style.setProperty( '--career-path-btn-bkg', `rgba(${colour}, .3)` );\r\n      root.style.setProperty( '--career-path-btn-hover', `rgba(${colour}, 1)` );\r\n    }\r\n  }\r\n}\r\n\r\nlet dom = new DomManipulate( \".filters-bar\" );\r\ndom.onReady( () => {\r\n  const filterwrap = document.getElementById( \"filter-swap\" );\r\n  const viewer = new ImgSwap( filterwrap );\r\n} );"],"sourceRoot":""}