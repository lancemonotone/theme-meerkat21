{"version":3,"sources":["webpack:///./src/js/frontend.js"],"names":["jQuery","document","ready","$","selectElement","el","addClass","attr","siblings","removeClass","parent","nextAll","children","on","e","rowID","row","this","data","url","prepend","ajax","success","find","hide","title","rendered","content","error","loadWizardResults","focus","keyCode","console","log","next","length","first","ms","prev","last"],"mappings":"AAAAA,OAAQC,UAAWC,OAAO,SAAWC,GAEnC,aAOA,SAASC,EAAeC,GAEtBF,EAAGE,GAAKC,SAAU,gBAClBH,EAAGE,GAAKE,KAAM,eAAgB,QAC9BJ,EAAGE,GAAKE,KAAM,eAAgB,QAE9BJ,EAAGE,GAAKG,WAAWC,YAAa,gBAChCN,EAAGE,GAAKG,WAAWD,KAAM,eAAgB,SACzCJ,EAAGE,GAAKG,WAAWD,KAAM,eAAgB,SAEzCJ,EAAGE,GAAKK,SAASH,KAAM,eAAgB,SACvCJ,EAAGE,GAAKK,SAASC,UAAUC,WAAWH,YAAa,gBACnDN,EAAGE,GAAKK,SAASC,UAAUC,WAAWL,KAAM,YAAa,GACzDJ,EAAGE,GAAKK,SAASC,UAAUL,SAAU,UAlBvCH,EAAG,eAAgBU,GAAI,SAAS,SAAWC,GAqB3C,IAAyBC,EACnBC,EArBJZ,EAAea,MAoBQF,EAnBPZ,EAAGc,MAAOC,KAAM,MAqBhCf,EADIa,EAAM,WAAaD,GACdN,YAAa,UACtBN,EAAGa,GAAMT,KAAM,eAAgB,QAC/BJ,EAAGa,GAAMT,KAAM,gBAAiB,SAChCJ,EAAGa,GAAMJ,WAAWL,KAAM,WAAY,GACjCJ,EAAGa,GAAME,KAAM,aAAiD,IAAjCf,EAAGa,GAAME,KAAM,eAQrD,SAA4BF,GAC1B,IAAIG,EAAM,kBAAoBhB,EAAGa,GAAME,KAAM,YAAe,IAAMf,EAAGa,GAAME,KAAM,MACjFf,EAAGa,GAAMI,QAAS,mFAClBjB,EAAEkB,KACA,CACEF,IAAKA,EACLG,QAAS,SAAWJ,GAClBf,EAAGa,GAAMO,KAAM,mBAAoBC,OACnCrB,EAAGa,GAAMI,QAAS,OAASF,EAAKO,MAAMC,SAAW,QAAUR,EAAKS,QAAQD,WAE1EE,MAAO,WACLzB,EAAGa,GAAMI,QAAS,kCAClBjB,EAAGa,GAAMO,KAAM,mBAAoBC,UAnBvCK,CAAmBb,GACnBb,EAAGa,GAAME,KAAM,YAAa,IAG9Bf,EAAGa,GAAMc,WA4BX3B,EAAG,mBAAoBoB,KAAM,QAASV,GAAI,WAAW,SAAWC,IANvD,KAOFA,EAAEiB,SAA8BjB,EAAEiB,SANjC,IAM4DjB,EAAEiB,SAH9D,MAIJC,QAAQC,IAAK,iBAJT,KAKCnB,EAAEiB,SAA4BjB,EAAEiB,SANhC,GAOE5B,EAAGc,MAAOiB,OAAOC,OACpBhC,EAAGc,MAAOiB,OAAOJ,SAEjB3B,EAAGc,MAAOT,WAAW4B,QAAQN,QAC7BO,IAZF,KAcUvB,EAAEiB,SAA0BjB,EAAEiB,SAftC,GAgBG5B,EAAGc,MAAOqB,OAAOH,OACpBhC,EAAGc,MAAOqB,OAAOR,QAEjB3B,EAAGc,MAAOT,WAAW+B,OAAOT,QApB3B,KAsBOhB,EAAEiB,SACZ3B,EAAea","file":"frontend.js","sourcesContent":["jQuery( document ).ready( function ( $ ) {\r\n\r\n  \"use strict\";\r\n\r\n  $( '.wizard-btn' ).on( 'click', function ( e ) {\r\n    selectElement( this );\r\n    revealChildren( $( this ).data( 'id' ) );\r\n  } );\r\n\r\n  function selectElement( el ) {\r\n    //\r\n    $( el ).addClass( 'selected-btn' );\r\n    $( el ).attr( 'aria-current', 'true' );\r\n    $( el ).attr( 'aria-checked', 'true' );\r\n    //\r\n    $( el ).siblings().removeClass( 'selected-btn' );\r\n    $( el ).siblings().attr( 'aria-current', 'false' );\r\n    $( el ).siblings().attr( 'aria-checked', 'false' );\r\n    //\r\n    $( el ).parent().attr( 'aria-current', 'false' );\r\n    $( el ).parent().nextAll().children().removeClass( 'selected-btn' );\r\n    $( el ).parent().nextAll().children().attr( 'tabindex', -1 );\r\n    $( el ).parent().nextAll().addClass( 'hidden' );\r\n  }\r\n\r\n  function revealChildren( rowID ) {\r\n    var row = '#wizard-' + rowID;\r\n    $( row ).removeClass( 'hidden' );\r\n    $( row ).attr( 'aria-current', 'step' );\r\n    $( row ).attr( 'aria-disabled', 'false' );\r\n    $( row ).children().attr( 'tabindex', 0 );\r\n    if ( $( row ).data( 'posttype' ) && $( row ).data( 'retrieved' ) === 0 ) {\r\n      loadWizardResults( row );\r\n      $( row ).data( 'retrieved', 1 );\r\n    }\r\n    //$(row).children().first().focus();\r\n    $( row ).focus();\r\n  }\r\n\r\n  function loadWizardResults( row ) {\r\n    var url = '/wp-json/wp/v2/' + $( row ).data( 'posttype' ) + '/' + $( row ).data( 'id' );\r\n    $( row ).prepend( '<div class=\"wizard-spinner\"><span class=\"bts bt-spinner bt-pulse\"></span></div>' );\r\n    $.ajax(\r\n      {\r\n        url: url,\r\n        success: function ( data ) {\r\n          $( row ).find( '.wizard-spinner' ).hide();\r\n          $( row ).prepend( '<h2>' + data.title.rendered + '</h2>' + data.content.rendered );\r\n        },\r\n        error: function () {\r\n          $( row ).prepend( '<div>Visit the URL below</div>' );\r\n          $( row ).find( '.wizard-spinner' ).hide();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  const KEYCODE = {\r\n    SPACE: 32,\r\n    LEFT: 37,\r\n    UP: 38,\r\n    RIGHT: 39,\r\n    DOWN: 40\r\n  };\r\n  $( '.chooser-wizard' ).find( '.btn' ).on( 'keydown', function ( e ) {\r\n    if ( e.keyCode === KEYCODE.SPACE || (e.keyCode >= KEYCODE.LEFT && e.keyCode <= KEYCODE.DOWN) ) {\r\n      console.log( 'doo something' );\r\n      if ( e.keyCode === KEYCODE.DOWN || e.keyCode >= KEYCODE.RIGHT ) {\r\n        if ( $( this ).next().length ) {\r\n          $( this ).next().focus();\r\n        } else {\r\n          $( this ).siblings().first().focus();\r\n          ms\r\n        }\r\n      } else if ( e.keyCode === KEYCODE.UP || e.keyCode >= KEYCODE.LEFT ) {\r\n        if ( $( this ).prev().length ) {\r\n          $( this ).prev().focus();\r\n        } else {\r\n          $( this ).siblings().last().focus();\r\n        }\r\n      } else if ( e.keyCode === KEYCODE.SPACE ) {\r\n        selectElement( this );\r\n      }\r\n    }\r\n  } );\r\n\r\n} );\r\n\r\n"],"sourceRoot":""}