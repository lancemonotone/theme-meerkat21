{"version":3,"sources":["webpack:///./src/js/frontend.js"],"names":["jQuery","document","ready","$","$headlines","duration","animationDelay","hideWord","$word","nextWord","takeNext","parents","hasClass","parentSpan","parent","addClass","removeClass","setTimeout","children","showWord","selectionDuration","bool","length","hideLetter","find","eq","showLetter","animate","width","switchWord","barAnimationDelay","$duration","$letter","$bool","is","next","$oldWord","$newWord","each","word","this","letters","text","split","selected","i","newLetters","join","html","css","headline","spanWrapper","newWidth","words","wordWidth"],"mappings":"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","file":"frontend.js","sourcesContent":["jQuery(document).ready(function ($) {\r\n  //set animation timing\r\n  var animationDelay = 5000,\r\n    //loading bar effect\r\n    barAnimationDelay = 3800,\r\n    barWaiting = barAnimationDelay - 3000, //3000 is the duration of the transition on the loading bar - set in the scss/css file\r\n    //letters effect\r\n    lettersDelay = 50,\r\n    //type effect\r\n    typeLettersDelay = 150,\r\n    selectionDuration = 500,\r\n    typeAnimationDelay = selectionDuration + 800,\r\n    //clip effect\r\n    revealDuration = 600,\r\n    revealAnimationDelay = 1500;\r\n  initHeadline();\r\n\r\n  function initHeadline() {\r\n    //insert <i> element for each letter of a changing word\r\n    singleLetters($(\".cd-headline.letters\").find(\"b\"));\r\n    //initialise headline animation\r\n    animateHeadline($(\".cd-headline\"));\r\n  }\r\n\r\n  function singleLetters($words) {\r\n    $words.each(function () {\r\n      var word = $(this),\r\n        letters = word.text().split(\"\"),\r\n        selected = word.hasClass(\"is-visible\");\r\n      for (i in letters) {\r\n        if (word.parents(\".rotate-2\").length > 0)\r\n          letters[i] = \"<em>\" + letters[i] + \"</em>\";\r\n        letters[i] = selected\r\n          ? '<i class=\"in\">' + letters[i] + \"</i>\"\r\n          : \"<i>\" + letters[i] + \"</i>\";\r\n      }\r\n      var newLetters = letters.join(\"\");\r\n      word.html(newLetters).css(\"opacity\", 1);\r\n    });\r\n  }\r\n\r\n  function animateHeadline($headlines) {\r\n    var duration = animationDelay;\r\n    $headlines.each(function () {\r\n      var headline = $(this);\r\n      if (headline.hasClass(\"loading-bar\")) {\r\n        duration = barAnimationDelay;\r\n        setTimeout(function () {\r\n          headline.find(\".cd-words-wrapper\").addClass(\"is-loading\");\r\n        }, barWaiting);\r\n      } else if (headline.hasClass(\"clip\")) {\r\n        var spanWrapper = headline.find(\".cd-words-wrapper\"),\r\n          newWidth = spanWrapper.width() + 10;\r\n        spanWrapper.css(\"width\", newWidth);\r\n      } else if (!headline.hasClass(\"type\")) {\r\n        //assign to .cd-words-wrapper the width of its longest word\r\n        var words = headline.find(\".cd-words-wrapper b\"),\r\n          width = 0;\r\n        words.each(function () {\r\n          var wordWidth = $(this).width();\r\n          if (wordWidth > width) width = wordWidth;\r\n        });\r\n        //needed for type?: type\r\n        //headline.find(\".cd-words-wrapper\").css(\"width\", width);\r\n      }\r\n\r\n      //trigger animation\r\n      setTimeout(function () {\r\n        hideWord(headline.find(\".is-visible\").eq(0));\r\n      }, duration);\r\n    });\r\n  }\r\n\r\n  function hideWord($word) {\r\n    var nextWord = takeNext($word);\r\n    if ($word.parents(\".cd-headline\").hasClass(\"type\")) {\r\n      var parentSpan = $word.parent(\".cd-words-wrapper\");\r\n\r\n      parentSpan.addClass(\"selected\").removeClass(\"waiting\");\r\n      setTimeout(function () {\r\n        parentSpan.removeClass(\"selected\");\r\n        $word\r\n          .removeClass(\"is-visible\")\r\n          .addClass(\"is-hidden\")\r\n          .children(\"i\")\r\n          .removeClass(\"in\")\r\n          .addClass(\"out\");\r\n      }, selectionDuration);\r\n      setTimeout(function () {\r\n        showWord(nextWord, typeLettersDelay);\r\n      }, typeAnimationDelay);\r\n    } else if ($word.parents(\".cd-headline\").hasClass(\"letters\")) {\r\n      var bool =\r\n        $word.children(\"i\").length >= nextWord.children(\"i\").length\r\n          ? true\r\n          : false;\r\n      hideLetter($word.find(\"i\").eq(0), $word, bool, lettersDelay);\r\n      showLetter(nextWord.find(\"i\").eq(0), nextWord, bool, lettersDelay);\r\n    } else if ($word.parents(\".cd-headline\").hasClass(\"clip\")) {\r\n      $word\r\n        .parents(\".cd-words-wrapper\")\r\n        .animate({ width: \"2px\" }, revealDuration, function () {\r\n          switchWord($word, nextWord);\r\n          showWord(nextWord);\r\n        });\r\n    } else if ($word.parents(\".cd-headline\").hasClass(\"loading-bar\")) {\r\n      $word.parents(\".cd-words-wrapper\").removeClass(\"is-loading\");\r\n      switchWord($word, nextWord);\r\n      setTimeout(function () {\r\n        hideWord(nextWord);\r\n      }, barAnimationDelay);\r\n      setTimeout(function () {\r\n        $word.parents(\".cd-words-wrapper\").addClass(\"is-loading\");\r\n      }, barWaiting);\r\n    } else {\r\n      switchWord($word, nextWord);\r\n      setTimeout(function () {\r\n        hideWord(nextWord);\r\n      }, animationDelay);\r\n    }\r\n  }\r\n\r\n  function showWord($word, $duration) {\r\n    if ($word.parents(\".cd-headline\").hasClass(\"type\")) {\r\n      showLetter($word.find(\"i\").eq(0), $word, false, $duration);\r\n      $word.addClass(\"is-visible\").removeClass(\"is-hidden\");\r\n    } else if ($word.parents(\".cd-headline\").hasClass(\"clip\")) {\r\n      $word\r\n        .parents(\".cd-words-wrapper\")\r\n        .animate({ width: $word.width() + 10 }, revealDuration, function () {\r\n          setTimeout(function () {\r\n            hideWord($word);\r\n          }, revealAnimationDelay);\r\n        });\r\n    }\r\n  }\r\n\r\n  function hideLetter($letter, $word, $bool, $duration) {\r\n    $letter.removeClass(\"in\").addClass(\"out\");\r\n\r\n    if (!$letter.is(\":last-child\")) {\r\n      setTimeout(function () {\r\n        hideLetter($letter.next(), $word, $bool, $duration);\r\n      }, $duration);\r\n    } else if ($bool) {\r\n      setTimeout(function () {\r\n        hideWord(takeNext($word));\r\n      }, animationDelay);\r\n    }\r\n\r\n    if ($letter.is(\":last-child\") && $(\"html\").hasClass(\"no-csstransitions\")) {\r\n      var nextWord = takeNext($word);\r\n      switchWord($word, nextWord);\r\n    }\r\n  }\r\n\r\n  function showLetter($letter, $word, $bool, $duration) {\r\n    $letter.addClass(\"in\").removeClass(\"out\");\r\n\r\n    if (!$letter.is(\":last-child\")) {\r\n      setTimeout(function () {\r\n        showLetter($letter.next(), $word, $bool, $duration);\r\n      }, $duration);\r\n    } else {\r\n      if ($word.parents(\".cd-headline\").hasClass(\"type\")) {\r\n        setTimeout(function () {\r\n          $word.parents(\".cd-words-wrapper\").addClass(\"waiting\");\r\n        }, 200);\r\n      }\r\n      if (!$bool) {\r\n        setTimeout(function () {\r\n          hideWord($word);\r\n        }, animationDelay);\r\n      }\r\n    }\r\n  }\r\n\r\n  function takeNext($word) {\r\n    return !$word.is(\":last-child\")\r\n      ? $word.next()\r\n      : $word.parent().children().eq(0);\r\n  }\r\n\r\n  function takePrev($word) {\r\n    return !$word.is(\":first-child\")\r\n      ? $word.prev()\r\n      : $word.parent().children().last();\r\n  }\r\n\r\n  function switchWord($oldWord, $newWord) {\r\n    $oldWord.removeClass(\"is-visible\").addClass(\"is-hidden\");\r\n    $newWord.removeClass(\"is-hidden\").addClass(\"is-visible\");\r\n  }\r\n});\r\n"],"sourceRoot":""}